# ruta_x <- "C:/Users/Usuario/Desktop/OpenCloud-master/www/G16"
# ruta_x <- "/media/manu/Manu/Meteomanu/R-Ladies_Shiny"
setwd(ruta_x)
runApp('proyecto.R')
list.files('OpenCloud-master/www/G16/')
list.files('OpenCloud-master/www/G16/', pattern = paste0('c','08''))
list.files('OpenCloud-master/www/G16/', pattern = paste0('c','08'))
list.files('OpenCloud-master/www/G16/', pattern = paste0('c','08'))
l <- list.files('OpenCloud-master/www/G16/', pattern = paste0('c','08'))
ifelse(l[1], l)
l[1]
l
runApp('proyecto.R')
l
l[1]
paste0('OpenCloud-master/www/G16/', l[1])
getwd()
runApp('proyecto.R')
getwd()
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
ruta_x
l
paste0('/media/manu/Manu/Meteomanu/R-Ladies_Shiny/OpenCloud-master/www/G16/', link[1])
paste0('/media/manu/Manu/Meteomanu/R-Ladies_Shiny/OpenCloud-master/www/G16/', l[1])
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
paste0("/media/manu/Manu/Meteomanu/R-Ladies_Shiny/OpenCloud-master/www/G16/", link)
lista <- list.files('/media/manu/Manu/Meteomanu/R-Ladies_Shiny/OpenCloud-master/www/G16/',pattern = 'c13')
lista
lista[1]
paste0("/media/manu/Manu/Meteomanu/R-Ladies_Shiny/OpenCloud-master/www/G16/", lista[1])
getwd()
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
getwd()
library(readxl)
xls <- read_excel("ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "Metadata_solo_Maranon")
library(readxl)
xls <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "Metadata_solo_Maranon")
xls
#library(readxl)
stns <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "Metadata_solo_Maranon")
stns[~N]
#library(readxl)
stns <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "Metadata_solo_Maranon")
atns %>% select(-N)
stns %>% select(-N)
pp_metadata <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "pp_estaciones_Peru")
pp_metadata <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "pp_estaciones_Peru")
View(pp_metadata)
#library(readxl)
stns <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "Metadata_solo_Maranon")
stns # %>% select(-N)
pp_metadata
#library(readxl)
stn_metadata <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "Metadata_solo_Maranon")
stns_metadata # %>% select(-N)
stn_metadata # %>% select(-N)
stn_pp <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "pp_estaciones_Peru")
stn_pp <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "pp_estaciones_Peru")
stn_pp
stn_pp <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "pp_estaciones_Peru", col_names = TRUE)
stn_pp
View(stn_pp)
stn_pp <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "pp_estaciones_Peru", skip=1, col_names = TRUE)
stn_pp
#stn_pp$EL PINTOR
colnames()
#stn_pp$EL PINTOR
colnames(stn_pp)
#stn_pp$EL PINTOR
colnames(stn_pp)[2]
#stn_pp$EL PINTOR
# colnames(stn_pp)[2]
stn_pp$colnames(stn_pp)[2]
#stn_pp$EL PINTOR
colnames(stn_pp)[2]
# stn_pp$colnames(stn_pp)[2]
#stn_pp$EL PINTOR
#colnames(stn_pp)[2]
stn_pp$"EL PINTOR"
#stn_pp$EL PINTOR
#colnames(stn_pp)[2]
stn_pp$``EL PINTOR``
#stn_pp$EL PINTOR
#colnames(stn_pp)[2]
stn_pp$"EL PINTOR"
#stn_pp$EL PINTOR
#colnames(stn_pp)[2]
#stn_pp$"EL PINTOR"
stn_pp[2]
plot(stn_pp)
plot(stn_pp[2])
idx <- as.Date(stn_pp[,1])
as.Date(stn_pp[,1])
as.Date(stn_pp[2:,1])
as.Date(stn_pp[2:31868,1])
class(stn_pp[,1])
class(stn_pp$1)
class(stn_pp$"1")
#stn_pp$EL PINTOR
colnames(stn_pp)#[2]
class(stn_pp$"...1")
idx <- as.Date(stn_pp["...1"])
idx <- as.Date(stn_pp$"...1")
# class(stn_pp$"...1")
idx <- as.Date(stn_pp$"...1")
# class(stn_pp$"...1")
idx <- as.Date(stn_pp$"...1")
data.matrix <- stn_pp[,-1]
data.xts <- xts(data.matrix, order.by = idx )
library(xts)
data.xts <- xts(data.matrix, order.by = idx )
str(data.xts)
plot(data.xts)
data.zoo <- as.zoo(data.xts)
str(data.zoo)
plot(data.zoo, main = "Series de tiempo de precipitación")
plot(data.xts[1])
plot(data.zoo[1], main = "Series de tiempo de precipitación")
plot(data.xts[,1])
plot(data.xts[,2])
plot(data.xts[,1])
plot(data.zoo[,1], main = "Series de tiempo de precipitación")
data.matrix <- stn_pp[1,-1]
data.matrix
data.matrix <- stn_pp[,-1]
data.matrix
data.matrix <- stn_pp[,-1][1]
data.matrix
data.matrix <- stn_pp[,-1][1,8,39]
data.matrix
data.matrix <- stn_pp[,-1][[1,8]]
data.matrix
data.matrix <- stn_pp[,-1][1]
data.matrix
data.matrix <- stn_pp[,-1][c(1,8)]
data.matrix
stn_pp$N
stn_pp$"N"
stn_pp["N"]
stn_metadata["N"]
as.vector(stn_metadata["N"])
vec_N <- as.vector(stn_metadata["N"])
vec_N
vec_N <- stn_metadata.pull("N")
vec_N
vec_N <- stn_metadata %>% pull("N")
vec_N
class(vec_N)
data.matrix <- stn_pp[,-1][vec_N]#[c(1,8)]
data.matrix
data.xts <- xts(data.matrix, order.by = idx )
str(data.xts)
plot(data.xts[,1])
data.xts
dim(data.xts)
plot(data.xts)
str(data.zoo)
plot(data.zoo, main = "Series de tiempo de precipitación")
data.zoo <- as.zoo(data.xts)
str(data.zoo)
plot(data.zoo, main = "Series de tiempo de precipitación")
library(lattice, lib.loc = "/usr/lib/R/library")
xyplot(data.xts,xlab = "Fecha",ylab = "Precipitación [mm/dia]",
ylim=c(0,100))
str(stn_pp)
stn_pp <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "pp_estaciones_Peru", skip=1, col_names = TRUE, col_types= c("date",rep("numeric",87)))
stn_pp
str(stn_pp)
vec_N <- stn_metadata %>% pull("N")
vec_N
class(vec_N)
# class(stn_pp$"...1")
idx <- as.Date(stn_pp$"...1")
data.matrix <- stn_pp[,-1]
data.matrix <- stn_pp[,-1]
data.xts <- xts(data.matrix, order.by = idx )
str(data.xts)
data.matrix <- stn_pp[,-1][vec_N]#[c(1,8)]
data.matrix
# data.matrix
data.xts <- xts(data.matrix, order.by = idx )
str(data.xts)
plot(data.xts)
data.zoo <- as.zoo(data.xts)
str(data.zoo)
plot(data.zoo, main = "Series de tiempo de precipitación")
xyplot(data.xts,xlab = "Fecha",ylab = "Precipitación [mm/dia]",
ylim=c(0,100))
data.xts
data.xts[,1]
xyplot(data.xts[,1],xlab = "Fecha",ylab = "Precipitación [mm/dia]",
ylim=c(0,100))
data.xts["EL PINTOR"]
data.xts
vec_N
stn_metadata
stn_metadata$Estaciones
stn_metadata$Estaciones=="EL PINTOR"
(stn_metadata$Estaciones=="EL PINTOR")==TRUE
which.max(stn_metadata$Estaciones=="EL PINTOR")
plot_ly(data.xts[,1] , type= 'scatter', mode='lines', name= 'T max')
# xyplot(data.xts[,1],xlab = "Fecha",ylab = "Precipitación [mm/dia]",ylim=c(0,100))
plot_ly(as.DataFrame(data.xts[,1]) , type= 'scatter', mode='lines', name= 'T max')
# xyplot(data.xts[,1],xlab = "Fecha",ylab = "Precipitación [mm/dia]",ylim=c(0,100))
#plot_ly(as.DataFrame(data.xts[,1]) , type= 'scatter', mode='lines', name= 'T max')
plot(data.xts[,1])
runApp('proyecto.R')
View(stn_metadata)
runApp('proyecto.R')
runApp('OpenCloud-master')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
View(stn_ls)
rm(stn_ls)
runApp('proyecto.R')
stn_metadata$Estaciones
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
stn_ls <- list("EL PINTOR", "CUTERVO", "HUANUCO", "TINGO MARIA", "SAN RAMON", "JEPELACIO", "SORITOR", "NUEVO LIMA", "ALAO", "SAPOSOA", "LAMAS", "TABALOSOS", "PICOTA", "NARANJILLO", "CHAZUTA", "PUCALLPA - HUIMBAYOC", "EL PORVENIR", "SAUCE", "MOYOBAMBA", "JAMALCA")
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
source('helper.R')
getwd()
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('OpenCloud-master')
runApp('/media/manu/Manu/Meteomanu/R-Ladies_Shiny/proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
library(readxl)
stn_metadata <- read_excel("base_estaciones/ACTUALIZANDO_pp_estaciones_Peru.xlsx", sheet = "Metadata_solo_Maranon")
stn_metadata # %>% select(-N)
stn_metadata
stn_id <- which.max(stn_metadata$Estaciones=="EL PINTOR")
stn_id
stn_metadata[1,]
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
leaflet() %>%
addTiles() %>%
# addRasterImage(IR04, colors = pal,
#                opacity=0.2) %>%
# addLegend(pal= pal, values= values(IR04),
#           title='IR4') %>%
## marker en un punto
# addMarkers(
#     lng= c(-71), lat= c(-12),
#     icon = NULL,
#         # list(
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-circle-icon-23.png",  # circulo gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-square-frame-23.png", # cuadrado gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/red-triangle-png-20.png",     # triangulo rojo
#         #        iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#         #        iconSize = c(75,75)
#         #    ),
#     popup = c("RStudio @ CiudadX")
# ) %>%
stn_id <- which.max(stn_metadata$Estaciones==input$stn)
leaflet() %>%
addTiles()
leaflet() %>%
addTiles() %>%
# addRasterImage(IR04, colors = pal,
#                opacity=0.2) %>%
# addLegend(pal= pal, values= values(IR04),
#           title='IR4') %>%
## marker en un punto
# addMarkers(
#     lng= c(-71), lat= c(-12),
#     icon = NULL,
#         # list(
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-circle-icon-23.png",  # circulo gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-square-frame-23.png", # cuadrado gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/red-triangle-png-20.png",     # triangulo rojo
#         #        iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#         #        iconSize = c(75,75)
#         #    ),
#     popup = c("RStudio @ CiudadX")
# ) %>%
stn_id <- which.max(stn_metadata$Estaciones=="EL PINTOR")
stn_id <- which.max(stn_metadata$Estaciones=="EL PINTOR")
leaflet() %>%
addTiles() %>%
# addRasterImage(IR04, colors = pal,
#                opacity=0.2) %>%
# addLegend(pal= pal, values= values(IR04),
#           title='IR4') %>%
## marker en un punto
# addMarkers(
#     lng= c(-71), lat= c(-12),
#     icon = NULL,
#         # list(
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-circle-icon-23.png",  # circulo gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-square-frame-23.png", # cuadrado gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/red-triangle-png-20.png",     # triangulo rojo
#         #        iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#         #        iconSize = c(75,75)
#         #    ),
#     popup = c("RStudio @ CiudadX")
# ) %>%
addMarkers(data = stn_metadata[stn_id, ],
lng = ~ Longitud, lat = ~ Latitud
# icon = list(
#                iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#                iconSize = c(75, 75)
#            )
) %>%
addCircles(data = stn_metadata, lat = ~ Latitud, lng = ~ Longitud) %>%
#addPopups(-93.65, 42.0285, "Here is the <b>Department of Statistics</b>, ISU") %>%
addCircleMarkers(rand_lng(50), rand_lat(50), color = "#ff0000")
stn_id <- which.max(stn_metadata$Estaciones=="EL PINTOR")
leaflet() %>%
addTiles() %>%
# addRasterImage(IR04, colors = pal,
#                opacity=0.2) %>%
# addLegend(pal= pal, values= values(IR04),
#           title='IR4') %>%
## marker en un punto
# addMarkers(
#     lng= c(-71), lat= c(-12),
#     icon = NULL,
#         # list(
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-circle-icon-23.png",  # circulo gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-square-frame-23.png", # cuadrado gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/red-triangle-png-20.png",     # triangulo rojo
#         #        iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#         #        iconSize = c(75,75)
#         #    ),
#     popup = c("RStudio @ CiudadX")
# ) %>%
addMarkers(data = stn_metadata[stn_id, ],
lng = ~ Longitud, lat = ~ Latitud
# icon = list(
#                iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#                iconSize = c(75, 75)
#            )
) %>%
addCircles(data = stn_metadata, lat = ~ Latitud, lng = ~ Longitud) %>%
#addPopups(-93.65, 42.0285, "Here is the <b>Department of Statistics</b>, ISU") %>%
#addCircleMarkers(rand_lng(50), rand_lat(50), color = "#ff0000")
stn_id <- which.max(stn_metadata$Estaciones=="EL PINTOR")
leaflet() %>%
addTiles() %>%
# addRasterImage(IR04, colors = pal,
#                opacity=0.2) %>%
# addLegend(pal= pal, values= values(IR04),
#           title='IR4') %>%
## marker en un punto
# addMarkers(
#     lng= c(-71), lat= c(-12),
#     icon = NULL,
#         # list(
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-circle-icon-23.png",  # circulo gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-square-frame-23.png", # cuadrado gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/red-triangle-png-20.png",     # triangulo rojo
#         #        iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#         #        iconSize = c(75,75)
#         #    ),
#     popup = c("RStudio @ CiudadX")
# ) %>%
addMarkers(data = stn_metadata[stn_id, ],
lng = ~ Longitud, lat = ~ Latitud
# icon = list(
#                iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#                iconSize = c(75, 75)
#            )
) %>%
addCircles(data = stn_metadata, lat = ~ Latitud, lng = ~ Longitud) #%>%
#addPopups(-93.65, 42.0285, "Here is the <b>Department of Statistics</b>, ISU") %>%
#addCircleMarkers(rand_lng(50), rand_lat(50), color = "#ff0000")
stn_id <- which.max(stn_metadata$Estaciones=="EL PINTOR")
leaflet() %>%
addTiles() %>%
# addRasterImage(IR04, colors = pal,
#                opacity=0.2) %>%
# addLegend(pal= pal, values= values(IR04),
#           title='IR4') %>%
## marker en un punto
# addMarkers(
#     lng= c(-71), lat= c(-12),
#     icon = NULL,
#         # list(
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-circle-icon-23.png",  # circulo gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-square-frame-23.png", # cuadrado gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/red-triangle-png-20.png",     # triangulo rojo
#         #        iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#         #        iconSize = c(75,75)
#         #    ),
#     popup = c("RStudio @ CiudadX")
# ) %>%
addMarkers(data = stn_metadata[stn_id, ],
lng = ~ Longitud, lat = ~ Latitud
# icon = list(
#                iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#                iconSize = c(75, 75)
#            )
) %>%
addCircles(data = stn_metadata[stn_id, ], lat = ~ Latitud, lng = ~ Longitud) #%>%
#addPopups(-93.65, 42.0285, "Here is the <b>Department of Statistics</b>, ISU") %>%
#addCircleMarkers(rand_lng(50), rand_lat(50), color = "#ff0000")
stn_id <- which.max(stn_metadata$Estaciones=="EL PINTOR")
leaflet() %>%
addTiles() %>%
# addRasterImage(IR04, colors = pal,
#                opacity=0.2) %>%
# addLegend(pal= pal, values= values(IR04),
#           title='IR4') %>%
## marker en un punto
# addMarkers(
#     lng= c(-71), lat= c(-12),
#     icon = NULL,
#         # list(
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-circle-icon-23.png",  # circulo gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-square-frame-23.png", # cuadrado gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/red-triangle-png-20.png",     # triangulo rojo
#         #        iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#         #        iconSize = c(75,75)
#         #    ),
#     popup = c("RStudio @ CiudadX")
# ) %>%
# addMarkers(data = stn_metadata[stn_id, ],
#            lng = ~ Longitud, lat = ~ Latitud
#            # icon = list(
#            #                iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#            #                iconSize = c(75, 75)
#            #            )
# ) %>%
addCircles(data = stn_metadata[stn_id, ], lat = ~ Latitud, lng = ~ Longitud) #%>%
#addPopups(-93.65, 42.0285, "Here is the <b>Department of Statistics</b>, ISU") %>%
#addCircleMarkers(rand_lng(50), rand_lat(50), color = "#ff0000")
stn_id <- which.max(stn_metadata$Estaciones=="EL PINTOR")
leaflet() %>%
addTiles() %>%
# addRasterImage(IR04, colors = pal,
#                opacity=0.2) %>%
# addLegend(pal= pal, values= values(IR04),
#           title='IR4') %>%
## marker en un punto
# addMarkers(
#     lng= c(-71), lat= c(-12),
#     icon = NULL,
#         # list(
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-circle-icon-23.png",  # circulo gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/black-square-frame-23.png", # cuadrado gris
#         #        iconUrl = "https://www.freeiconspng.com/uploads/red-triangle-png-20.png",     # triangulo rojo
#         #        iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#         #        iconSize = c(75,75)
#         #    ),
#     popup = c("RStudio @ CiudadX")
# ) %>%
# addMarkers(data = stn_metadata[stn_id, ],
#            lng = ~ Longitud, lat = ~ Latitud
#            # icon = list(
#            #                iconUrl = 'http://icons.iconarchive.com/icons/artua/star-wars/128/Master-Joda-icon.png',
#            #                iconSize = c(75, 75)
#            #            )
# ) %>%
addCircles(data = stn_metadata[stn_id, ], lat = ~ Latitud, lng = ~ Longitud, color='red') #%>%
#addPopups(-93.65, 42.0285, "Here is the <b>Department of Statistics</b>, ISU") %>%
#addCircleMarkers(rand_lng(50), rand_lat(50), color = "#ff0000")
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
runApp('proyecto.R')
